---
import { Image } from 'astro:assets';
import { useTranslations } from '../i18n/ui';
import '../styles/global.css';

// CSS is imported in Layout, so we don't need to import it here when using Layout

export interface Props {
  lang?: 'es' | 'en';
}

const { lang = 'es' } = Astro.props;
const t = useTranslations(lang);

import slide1 from '../assets/slide-1.png';
import slide2 from '../assets/slide-2.png';
import slide3 from '../assets/slide-3.png';
import slide4 from '../assets/slide-4.png';
import slide5 from '../assets/slide-5.png';
import rectangle2 from '../assets/rectangle2.png';
import rectangle3 from '../assets/rectangle3.png';
import rectangle4 from '../assets/rectangle4.png';
import rectangle5 from '../assets/rectangle5.png';
import rectangle6 from '../assets/rectangle6.png';
import desktop1 from '../assets/desktop1.jpeg';
import globe from '../assets/Earth-min.png';
import heic0604a from '../assets/heic0604a.png';
import akronymLogoBlanco from '../assets/AkronymLogoBlanco.png';
import urzola from '../assets/logos/urzola.png';
import adastra from '../assets/logos/adastra.png';
import wc from '../assets/logos/wc.png';
import pbs from '../assets/logos/pbs.png';
import acp from '../assets/logos/acp.png';
import k from '../assets/logos/k.png';
import pablo from '../assets/logos/pablo.png';
import mdo from '../assets/logos/mdo.png';
import trmi from '../assets/logos/trmi.png';
import triad from '../assets/logos/triad.png';
import lelevier from '../assets/logos/lelevier.png';
import ulb from '../assets/logos/ulb.png';
import risingunited from '../assets/logos/risingunited.png';
import terre from '../assets/logos/terre.png';
import imago from '../assets/logos/imago.png';
import cloudhouse from '../assets/logos/cloudhouse.png';
import kenia from '../assets/logos/kenia.png';
import ellugar from '../assets/logos/ellugar.png';
import caballo from '../assets/logos/caballo.png';
import becky from '../assets/testimonial/becky.png';
import david from '../assets/testimonial/david.png';
import michael from '../assets/testimonial/michael.png';
import fatou from '../assets/testimonial/fatou.png';
import marilis from '../assets/testimonial/marilis_llobet.png';
import spain from '../assets/spain.png';
import usa from '../assets/usa.png';
import leftArrow from '../assets/left.svg';
import rightArrow from '../assets/right.svg';

---

<!-- Pantalla de carga con logo Akronym -->
<div id="loading-screen" class="fixed inset-0 w-screen h-screen bg-black flex flex-col items-center justify-center z-50 transition-opacity duration-1000">
  <img src={akronymLogoBlanco.src} alt="Akronym Logo" class="w-48 sm:w-64 md:w-80 lg:w-[30rem] max-w-[80vw] mb-6" />
</div>

<!-- Hero Section y navbar -->
<div class="relative w-screen h-screen min-h-[400px]" style={`background: url('${desktop1.src}') center center/cover no-repeat;`}>
  <div class="absolute inset-0 z-10" style="background: linear-gradient(180deg, transparent 0%, transparent 60%, #060606 80%, #191b1c 100%);"></div>
  <!-- Navbar -->
  <nav id="main-navbar" class="fixed top-0 left-0 w-full flex items-center justify-between px-4 sm:px-8 md:px-16 py-4 md:py-6 z-50" style="background: linear-gradient(180deg, rgba(25, 27, 28, 0.70) 16.81%, rgba(54, 54, 54, 0.00) 86.28%);">
    <div class="flex items-center">
      <img src={akronymLogoBlanco.src} alt="Akronym Logo" class="w-30" />
    </div>
    
    <!-- Menú desktop -->
    <div class="hidden md:flex items-center gap-5">
      <div>
        <a href={lang === 'en' ? '/en/form' : '/form'} class="text-neutral-100 text-base font-normal tracking-wider hover:opacity-70 transition-opacity">{t('nav.contact')}</a>
      </div>
      <div class="flex items-center gap-2">
        <a href={lang === 'es' ? '/en' : '/'} class="text-neutral-100 text-base font-normal tracking-wider hover:opacity-70 transition-opacity flex items-center gap-2">
          {lang === 'es' ? 'EN' : 'ES'}
          <img src={lang === 'es' ? usa.src : spain.src} alt={lang === 'es' ? 'US Flag' : 'Spanish Flag'} class="w-5 h-5 ml-1" />
        </a>
      </div>
    </div>
    
    <!-- Botón hamburguesa móvil -->
    <button id="mobile-menu-btn" class="md:hidden p-2">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 7H30M0 23H30M0 15H30" stroke="white"/>
      </svg>
    </button>
  </nav>
  
  <!-- Menú móvil desplegable -->
  <div id="mobile-menu" class="fixed top-0 left-0 w-full h-screen bg-black z-60 transform translate-x-full transition-transform duration-300 ease-in-out md:hidden">
    <div class="flex flex-col items-center justify-center h-full space-y-8">
      <button id="close-menu-btn" class="absolute top-6 right-6 p-2">
        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 6L24 24M24 6L6 24" stroke="white" stroke-width="2"/>
        </svg>
      </button>
      <a href={lang === 'en' ? '/en/form' : '/form'} class="text-neutral-100 text-2xl font-normal tracking-wider hover:opacity-70 transition-opacity">{t('nav.contact')}</a>
      <a href={lang === 'es' ? '/en' : '/'} class="text-neutral-100 text-2xl font-normal tracking-wider hover:opacity-70 transition-opacity flex items-center gap-3">
        {lang === 'es' ? 'EN' : 'ES'}
        <img src={lang === 'es' ? usa.src : spain.src} alt={lang === 'es' ? 'US Flag' : 'Spanish Flag'} class="w-6 h-6" />
      </a>
    </div>
  </div>
  
  <!-- Texto de la hero section -->
  <section class="absolute left-0 bottom-0 z-20 text-neutral-100 max-w-full md:max-w-[60vw] p-4 sm:p-8 md:p-20">
    <div class="fade-in text-2xl sm:text-3xl md:text-4xl leading-tight mb-4 md:mb-6 tracking-wider">
      {t('hero.title')}
    </div>
    <div class="fade-in text-base sm:text-lg md:text-xl mt-2 md:mt-4 text-neutral-100 opacity-95 tracking-wider">
      {t('hero.subtitle')}
    </div>

    <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="mt-10 relative w-[200px] sm:w-[250px] md:w-[420px] h-10 sm:h-12 md:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-xs sm:text-sm md:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
      {t('hero.cta')}
      <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
        <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
      </svg>
    </button>
  </section>
</div>

<!-- Nueva sección: MÁS CLARO -->
<section class="w-full min-h-[40vh] sm:min-h-[60vh] bg-black flex flex-col items-center justify-center py-12 sm:py-24 px-2">
  <div class="relative h-32 mb-10 flex items-center justify-center overflow-hidden">
    <h2 id="changing-text" class="text-5xl sm:text-6xl md:text-8xl lg:text-9xl font-normal text-neutral-100 tracking-wide text-center">{t('more.clear.title')}</h2>
  </div>
  <p class="fade-in text-lg sm:text-xl md:text-2xl text-neutral-300 mb-6 sm:mb-10 text-center">{t('more.clear.subtitle')}</p>
  <div class="relative flex flex-col items-center">
    <button
      onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`}
      class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
      {t('more.clear.cta')}
      <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
        <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
      </svg>
    </button>
  </div>
</section>

<!-- Nueva sección: TECNOLOGÍA QUE SIRVE -->
<section class="w-full min-h-[80vh] bg-black flex flex-col items-center justify-center py-24 px-4">
  <h2 class="fade-in text-3xl md:text-3xl lg:text-4xl font-normal text-neutral-100 mb-16 tracking-wide text-center max-w-4xl">
    {t('tech.title')}
  </h2>
  <div class="mb-16">
    <svg xmlns="http://www.w3.org/2000/svg" width="73" height="79" viewBox="0 0 73 79" fill="none">
      <path d="M36.5001 71.1001L55.9668 50.0334M36.5001 71.1001L17.0334 50.0334M36.5001 71.1001V5.26672" stroke="white"/>
    </svg>
  </div>
  <div class="fade-in text-xl md:text-2xl text-neutral-100 uppercase text-center mb-14 max-w-5xl px-4">
    {t('tech.description')}
  </div>
  <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
    {t('tech.cta')}
    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
      <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
    </svg>
  </button>
</section>

<!-- Sección 1: NACIMOS EN COSTA RICA -->
<section class="w-full min-h-[30vh] flex flex-col items-center justify-center relative overflow-hidden bg-[#191B1C] px-4">
  <div class="text-center">
    <h2 class="fade-in text-3xl md:text-5xl font-normal text-neutral-100 mb-8 text-center drop-shadow-lg">{t('costa.rica.title')}</h2>
    <p class="fade-in text-base md:text-2xl text-neutral-100 text-center max-w-4xl uppercase tracking-wide drop-shadow-lg">
      {t('costa.rica.description')}
    </p>
  </div>
</section>

<!-- Sección 2: Imagen del globo -->
<section class="w-full min-h-[30vh] flex flex-col items-center justify-center relative overflow-hidden bg-[#191B1C]">
  <Image src={globe} alt="Globe background" class="w-full h-full object-cover" />
</section>

<!-- Sección 3: Contenido final -->
<section class="w-full min-h-[30vh] flex flex-col items-center justify-center relative overflow-hidden bg-[#191B1C] pb-20 px-4">
  <div class="text-center flex flex-col items-center">
    <h3 class="fade-in text-3xl md:text-4xl font-normal text-neutral-100 uppercase tracking-wide drop-shadow-lg mb-8">{t('evolution.title')}</h3>
    <div class="my-15 fade-in">
      <img src={akronymLogoBlanco.src} alt="Akronym Logo" class="h-10 md:h-20 mb-2 drop-shadow-lg" />
    </div>
    <p class="fade-in text-lg md:text-2xl text-neutral-100 mb-20 text-center max-w-2xl drop-shadow-lg">
      {t('evolution.description')}
    </p>
    <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white shadow-lg">
      {t('costa.rica.cta')}
      <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
        <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
      </svg>
    </button>
  </div>
</section>

<!-- Nueva sección: TRANSFORMAR NO ES UNA PROMESA -->
<section class="w-full bg-neutral-100 py-20 flex flex-col items-center justify-center px-4">
  <h2 class="fade-in text-4xl md:text-6xl font-normal text-neutral-900 mb-15 text-center max-w-7xl">
    {t('transform.title')}
  </h2>
  <!-- Swiper Carousel -->
  <div class="w-full max-w-7xl mb-12">
    <div class="swiper swiper-main">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <img src={slide1.src} alt="slide1" class="object-cover w-full h-[350px] md:h-[500px] rounded" />
        </div>
        <div class="swiper-slide">
          <img src={slide2.src} alt="slide2" class="object-cover w-full h-[350px] md:h-[500px] rounded" />
        </div>
        <div class="swiper-slide">
          <img src={slide3.src} alt="slide3" class="object-cover w-full h-[350px] md:h-[500px] rounded" />
        </div>
        <div class="swiper-slide">
          <img src={slide4.src} alt="slide4" class="object-cover w-full h-[350px] md:h-[500px] rounded" />
        </div>
        <div class="swiper-slide">
          <img src={slide5.src} alt="slide5" class="object-cover w-full h-[350px] md:h-[500px] rounded" />
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
  <p class="fade-in text-xl text-neutral-900 mb-8 text-center max-w-5xl">
    {t('transform.description1')}
  </p>
  <p class="fade-in text-xl text-neutral-900 mb-10 text-center max-w-5xl">
    {t('transform.description2')}
  </p>
  <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-400 rounded-full flex items-center justify-center bg-transparent text-neutral-900 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
    {t('transform.cta')}
    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
      <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
    </svg>
  </button>
</section>

<!-- Nueva sección: CREEMOS EN NEGOCIOS QUE PIENSAN DISTINTO -->
<section class="w-full min-h-[70vh] bg-black flex flex-col items-center justify-center py-24 px-4">
  <h2 class="fade-in text-3xl md:text-5xl font-normal text-neutral-100 mb-10 text-center max-w-7xl">
    {t('believe.title')}
  </h2>
  <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
    {t('believe.cta')}
    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
      <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
    </svg>
  </button>
</section>

<!-- Nueva sección: LO QUE HACEMOS -->
<section class="w-full min-h-[80vh] bg-black flex flex-col items-center justify-center py-24 relative overflow-hidden px-4">
  <!-- Esquinas decorativas con flechas largas y delgadas -->
  <!-- Esquina superior izquierda (↖) -->
  <svg class="absolute top-4 left-4 w-28 h-28 text-neutral-400 opacity-60" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 56 56">
    <line x1="28" y1="28" x2="4" y2="4" />
    <polyline points="25,4 4,4 4,25" />
  </svg>
  <!-- Esquina superior derecha (↗) -->
  <svg class="absolute top-4 right-4 w-28 h-28 text-neutral-400 opacity-60" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 56 56">
    <line x1="28" y1="28" x2="52" y2="4" />
    <polyline points="27,4 52,4 52,25" />
  </svg>
  <!-- Esquina inferior izquierda (↙) -->
  <svg class="absolute bottom-4 left-4 w-28 h-28 text-neutral-400 opacity-60" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 56 56">
    <line x1="28" y1="28" x2="4" y2="52" />
    <polyline points="4,34 4,52 22,52" />
  </svg>
  <!-- Esquina inferior derecha (↘) -->
  <svg class="absolute bottom-4 right-4 w-28 h-28 text-neutral-400 opacity-60" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 56 56">
    <line x1="28" y1="28" x2="52" y2="52" />
    <polyline points="52,32 52,52 32,52" />
  </svg>

  <h2 class="fade-in text-[10vw] md:text-9xl font-normal text-neutral-100 mb-6 text-center leading-tight">{t('what.we.do.title')}</h2>
  <div class="fade-in text-xl md:text-3xl text-neutral-100 uppercase text-center mb-6 max-w-6xl px-4 tracking-wide">
    {t('what.we.do.subtitle')}
  </div>
  <div class="fade-in text-lg md:text-xl text-neutral-300 text-center mb-10 max-w-7xl px-4">
    {t('what.we.do.description')}
  </div>
  <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
    {t('what.we.do.cta')}
    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
      <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
    </svg>
  </button>
</section>

<!-- Nueva sección: GRID DE TEXTO E IMÁGENES ALTERNADOS -->
<section class="w-full bg-black py-24 flex flex-col items-center justify-center px-4">
  <div class="max-w-7xl w-full flex flex-col px-4">
    <!-- Fila 1: texto - imagen -->
    <div class="flex flex-col md:flex-row items-start md:items-end mb-5 md:mb-0">
      <div class="flex-1 text-left text-neutral-100 pb-5">
        <h3 class="fade-in text-3xl md:text-5xl mb-4">{t('transformation.title')}</h3>
        <p class="fade-in text-md md:text-lg opacity-80">{t('transformation.description')}</p>
      </div>
      <div class="flex-1">
        <img src={rectangle2.src} alt="Dirección que transforma" class="w-full object-cover rounded" />
      </div>
    </div>
    
    <!-- Fila 2: imagen - texto -->
    <div class="flex flex-col md:flex-row items-start md:items-end mb-5 md:mb-0">
      <div class="flex-1 order-2 md:order-1">
        <img src={rectangle3.src} alt="Experiencia de usuario" class="w-full object-cover rounded" />
      </div>
      <div class="flex-1 order-1 md:order-2 text-left text-neutral-100 pb-5">
        <h3 class="fade-in text-3xl md:text-5xl mb-4 md:pl-5">{t('ux.title')}</h3>
        <p class="fade-in text-md md:text-lg opacity-80 md:pl-5">{t('ux.description')}</p>
      </div>
    </div>

    <!-- Fila 3: texto - imagen -->
    <div class="flex flex-col md:flex-row items-start md:items-end mb-5 md:mb-0">
      <div class="flex-1 text-left text-neutral-100 pb-5">
        <h3 class="fade-in text-3xl md:text-5xl mb-4 md:pr-5">{t('processes.title')}</h3>
        <p class="fade-in text-md md:text-lg opacity-80">{t('processes.description')}</p>
      </div>
      <div class="flex-1">
        <img src={rectangle4.src} alt="Procesos sin fricción" class="w-full object-cover rounded" />
      </div>
    </div>

    <!-- Fila 4: imagen - texto -->
    <div class="flex flex-col md:flex-row items-start md:items-end mb-5 md:mb-0">
      <div class="flex-1 order-2 md:order-1">
        <img src={rectangle5.src} alt="Tecnología que impulsa" class="w-full object-cover rounded" />
      </div>
      <div class="flex-1 order-1 md:order-2 text-left text-neutral-100 pb-5">
        <h3 class="fade-in text-3xl md:text-5xl mb-4 md:pl-5">{t('strategy.title')}</h3>
        <p class="fade-in text-md md:text-lg opacity-80 md:pl-5">{t('strategy.description')}</p>
      </div>
    </div>

    <!-- Fila 5: texto - imagen -->
    <div class="flex flex-col md:flex-row items-start md:items-end mb-5 md:mb-0">
      <div class="flex-1 text-left text-neutral-100 pb-5">
        <h3 class="fade-in text-3xl md:text-5xl mb-4">{t('delivery.title')}</h3>
        <p class="fade-in text-md md:text-lg opacity-80">{t('delivery.description')}</p>
      </div>
      <div class="flex-1">
        <img src={rectangle6.src} alt="--" class="w-full object-cover rounded" />
      </div>
    </div>
  </div>
</section>

<!-- Nueva sección: TESTIMONIOS -->
<section class="w-full bg-black py-24 flex flex-col items-center justify-center px-4">
  <h2 class="fade-in text-3xl md:text-5xl font-normal text-neutral-100 mb-16 text-center tracking-wide">{t('testimonials.title')}</h2>
  <div class="max-w-7xl w-full flex flex-col md:flex-row gap-12">
    <!-- Columna derecha: nombres y descripciones (primera en móvil) -->
    <div class="flex-1 flex flex-col justify-start order-1 md:order-2">
      <a href="#testimonial-content" class="testimonial-name mb-4 md:mb-8 cursor-pointer" data-testimonial="becky">
        <h4 class="fade-in text-2xl md:text-6xl font-medium text-neutral-600 leading-tight">BECKY VANNES</h4>
        <div class="fade-in text-neutral-500 text-md md:text-lg mt-1">Productions Manager at ACP Publishing</div>
      </a>
      <a href="#testimonial-content" class="testimonial-name mb-4 md:mb-8 cursor-pointer" data-testimonial="david">
        <h4 class="fade-in text-2xl md:text-6xl font-medium text-neutral-600 leading-tight">DR. DAVID KUBES</h4>
        <div class="fade-in text-neutral-500 text-md md:text-lg mt-1">International Lawyer</div>
      </a>
      <a href="#testimonial-content" class="testimonial-name mb-4 md:mb-8 cursor-pointer" data-testimonial="michael">
        <h4 class="fade-in text-2xl md:text-6xl font-medium text-neutral-600 leading-tight">MICHAEL SHANER</h4>
        <div class="fade-in text-neutral-500 text-md md:text-lg mt-1">CEO of The Flow Group & President of Shantou Media</div>
      </a>
      <a href="#testimonial-content" class="testimonial-name mb-4 md:mb-8 cursor-pointer" data-testimonial="fatou">
        <h4 class="fade-in text-2xl md:text-6xl font-medium text-neutral-600 leading-tight">FATOU SOW</h4>
        <div class="fade-in text-neutral-500 text-md md:text-lg mt-1">President of Slingshots Music and Managing Director of Shantou Media</div>
      </a>
      <a href="#testimonial-content" class="testimonial-name md:mb-8 cursor-pointer" data-testimonial="marilis">
        <h4 class="fade-in text-2xl md:text-6xl leading-tight text-neutral-600">MARILIS LLOBET</h4>
        <div class="fade-in text-neutral-600 text-md md:text-lg mt-2">CEO of Ventas Cognitivas</div>
      </a>
    </div>

    <!-- Columna izquierda: imagen y testimonio (segunda en móvil) -->
    <div id="testimonial-content" class="flex-1 flex flex-col items-center md:items-start order-2 md:order-1 relative">
      <div class="testimonial-content w-[90%] flex flex-col items-center justify-center relative">
        <!-- Flecha izquierda (solo móvil) -->
        <button id="prev-testimonial" class="absolute -left-8 top-1/2 transform -translate-y-1/2 z-10 text-white p-2 rounded-full md:hidden">
          <img src={leftArrow.src} alt="Previous" class="w-5 h-5" />
        </button>
        
        <!-- Contenedor de imagen -->
        <div class="flex items-center justify-center mb-8 md:mb-8">
          <!-- Imagen del testimonio -->
          <img id="testimonial-image" src={becky.src} alt="Becky Vannes" class="rounded w-full sm:w-[250px] md:max-w-xs" />
        </div>
        
        <!-- Flecha derecha (solo móvil) -->
        <button id="next-testimonial" class="absolute -right-8 top-1/2 transform -translate-y-1/2 z-10 text-white p-2 rounded-full md:hidden">
          <img src={rightArrow.src} alt="Next" class="w-5 h-5" />
        </button>
        
        <h4 id="testimonial-name" class="text-neutral-100 mb-2 text-xl max-w-xs">Becky Vannes</h4>
        <div id="testimonial-position" class="text-neutral-400 text-sm mb-4 max-w-xs">Productions Manager at ACP Publishing</div>
        <p id="testimonial-text" class="fade-in text-neutral-100 text-base md:text-lg max-w-xs text-justify">
          Thanks to Akronym's expertise and dedication, our online presence has flourished, and our sales of self-help books have soared. We wholeheartedly recommend Akronym to anyone looking for top-notch website development services. They are a true asset to our business!
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Nueva sección: ALIADOS -->
<section class="w-full bg-black py-20 flex flex-col items-center justify-center px-4">
  <h2 class="fade-in text-3xl md:text-5xl font-normal text-neutral-100 mb-12 text-center tracking-wide">{t('allies.title')}</h2>
  <div class="w-full max-w-6xl mb-12 relative">
    <!-- Gradiente izquierdo -->
    <div class="absolute left-0 top-0 w-[10%] h-full z-10" style="background: linear-gradient(270deg, rgba(13, 13, 18, 0.00) 9.13%, rgba(25, 27, 28, 0.80) 37.02%, #191B1C 82.21%);"></div>
    
    <!-- Gradiente derecho -->
    <div class="absolute right-0 top-0 w-[10%] h-full z-10" style="background: linear-gradient(90deg, rgba(13, 13, 18, 0.00) 9.13%, rgba(25, 27, 28, 0.80) 37.02%, #191B1C 82.21%);"></div>
    
    <!-- Carrusel -->
    <div class="swiper swiper-aliados">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="px-8">
            <img src={urzola.src} alt="Dr. Victor Urzola" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={adastra.src} alt="Ad Astra" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={wc.src} alt="Wagner & Carter" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={pbs.src} alt="PBS" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={acp.src} alt="ACP" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={k.src} alt="K" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={mdo.src} alt="MG" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={trmi.src} alt="TRMI" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={triad.src} alt="Triad" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={lelevier.src} alt="Lelevier" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={ulb.src} alt="ULB" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={risingunited.src} alt="Rising United" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={terre.src} alt="Terre" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={imago.src} alt="Imago" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={cloudhouse.src} alt="Cloudhouse" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={kenia.src} alt="Kenia" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={ellugar.src} alt="El Lugar" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={caballo.src} alt="Caballo" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="px-8">
            <img src={pablo.src} alt="Pablo" class="h-20 md:h-24 object-contain grayscale opacity-80 mx-auto" />
          </div>
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
  
  <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
    {t('allies.cta')}
    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
      <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
    </svg>
  </button>
</section>

<!-- Nueva sección: DESDE AQUÍ ARRIBA, TODO SE VE DIFERENTE -->
<section class="w-full min-h-[120vh] flex flex-col items-center justify-center relative overflow-hidden px-4" style={`background: url('${heic0604a.src}') center/cover no-repeat;`}>
  <div class="absolute inset-0 bg-black/20 z-0"></div>
  <div class="absolute inset-0 z-10" style="background: linear-gradient(180deg, #191B1C 0%, rgba(25,27,28,0) 50%, #191B1C 100%);"></div>
  <div class="relative z-20 flex flex-col items-center justify-center w-full h-full py-50">
    <h2 class="fade-in text-4xl md:text-7xl lg:text-8xl font-normal text-neutral-100 text-center mb-16 leading-tight max-w-4xl mb-200">
      {t('perspective.title')}
    </h2>
    <p class="fade-in text-lg text-neutral-100 text-center mb-10 max-w-7xl">
      {t('perspective.description')}
    </p>
    <button onclick={`window.location.href = '${lang === 'en' ? '/en/form' : '/form'}'`} class="relative w-[250px] sm:w-[350px] md:w-[420px] h-12 sm:h-14 border border-neutral-300 rounded-full flex items-center justify-center bg-transparent text-neutral-100 text-sm sm:text-lg font-normal transition hover:bg-white hover:text-[#191B1C] active:bg-[#191B1C] active:text-white">
      {t('perspective.cta')}
      <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline w-5 h-5 ml-3 arrow-svg">
        <path d="M16.7 9.50001L11.9 4.70001M16.7 9.50001L11.9 14.3M16.7 9.50001H1.69995" stroke="currentColor"/>
      </svg>
    </button>
  </div>
</section>

<!-- Footer -->
<footer class="w-full bg-black pt-12 pb-4 px-4 text-white">
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left">
    <!-- columna 1 -->
    <div>
      <ul class="space-y-1 mb-4 font-light">
        <li><a href="mailto:connect@akronym.cr">{t('footer.email')}</a></li>
        <li><a href="https://wa.me/+50688134614" target="_blank">{t('footer.phone')}</a></li>
      </ul>
    </div>
    <!-- columna 2 -->
    <div>
      <div class="flex justify-center">
        <ul class="space-y-1 font-light">
          <li><a href="/terminos" class="hover:opacity-80">{t('footer.terms')}</a></li>
          <li><a href="/privacidad" class="hover:opacity-80">{t('footer.privacy')}</a></li>
        </ul>
      </div>
    </div>

    <!-- columna 3 -->
    <div class="flex justify-center md:justify-end">
      <div class="flex">
        <a href="https://www.instagram.com/akronym.cr?igsh=MWllMjB3ajB5bGExNg==" target="_blank" aria-label="Instagram" class="hover:opacity-80 mr-3">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
          </svg>
        </a>
        <a href="https://www.linkedin.com/company/akronymcr?originalSubdomain=co" target="_blank" aria-label="LinkedIn" class="hover:opacity-80">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 11.268h-3v-5.604c0-1.337-.026-3.063-1.868-3.063-1.868 0-2.154 1.459-2.154 2.967v5.7h-3v-10h2.881v1.367h.041c.401-.761 1.381-1.563 2.841-1.563 3.039 0 3.6 2.001 3.6 4.601v5.595z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
  <div class="border-t border-neutral-700 mt-12 pt-6 flex flex-col md:flex-row items-center justify-center w-full text-md max-w-7xl mx-auto text-center">
    <div>{t('footer.copyright')}</div>
  </div>
</footer>

<!-- SCRITPS -->
<script define:vars={{ becky, david, michael, fatou, marilis, lang }}>

  // Control de pantalla de carga
  document.addEventListener('DOMContentLoaded', function() {
    const loadingScreen = document.getElementById('loading-screen');
    const navbar = document.getElementById('main-navbar');
    
    // Ocultar navbar inicialmente
    if (navbar) {
      navbar.style.opacity = '0';
      navbar.style.visibility = 'hidden';
    }
    
    // Después de 2 segundos, iniciar fadeOut de la pantalla de carga
    setTimeout(() => {
      if (loadingScreen) {
        loadingScreen.style.opacity = '0';
        
        // Después de 1 segundo (duración del fadeOut), ocultar completamente la pantalla de carga
        setTimeout(() => {
          if (loadingScreen) {
            loadingScreen.style.display = 'none';
          }
          
          // Mostrar navbar con fadeIn
          if (navbar) {
            navbar.style.visibility = 'visible';
            navbar.style.opacity = '1';
            navbar.style.transition = 'opacity 0.5s ease-in-out';
          }
        }, 500);
      }
    }, 1000);
  });

  // Datos de testimonios con referencias de imágenes importadas
  const testimonialImages = {
    becky: becky.src,
    david: david.src, 
    michael: michael.src,
    fatou: fatou.src,
    marilis: marilis.src
  };

  const testimonials = {
    becky: {
      name: "BECKY VANNES",
      position: "Productions Manager at ACP Publishing",
      text: "Thanks to Akronym's expertise and dedication, our online presence has flourished, and our sales of self-help books have soared. We wholeheartedly recommend Akronym to anyone looking for top-notch website development services. They are a true asset to our business!",
      imageKey: "becky"
    },
    david: {
      name: "DR. DAVID KUBES",
      position: "International Lawyer",
      text: "We started working with Sergio in 2017. His ability to understand complex situations and program them into something easy and user-friendly is over the top! Reliable, creative and very professional with a personal engagement that very few people have.",
      imageKey: "david"
    },
    michael: {
      name: "MICHAEL SHANER",
      position: "CEO of The Flow Group & President of Shantou Media",
      text: "I have worked numerous times with Sergio Chang and his company: Akronym. I've discovered Sergio to be gifted, innovative, and reliable in delivering excellent results on-time for various technological endeavors. Sergio performs at a very high level, and his work ethic, speed, and overall professionalism are very impressive. I continue to use his elite tech services.",
      imageKey: "michael"
    },
    fatou: {
      name: "FATOU SOW",
      position: "President of Slingshots Music and Managing Director of Shantou Media",
      text: "Akronym was not only able to understand and implement our brief, but they also provided reliable after-sale services. They kept fine-tuning the tool with our feedback. To me, that denotes a passion for- and true commitment to - yielding high-quality work. I strongly recommend this company if you are looking for cutting-edge, easy to use digital services with a built-in mission to help grow your brand identity.",
      imageKey: "fatou"
    },
    marilis: {
      name: "MARILIS LLOBET",
      position: "CEO of Ventas Cognitivas",
      text: "I invited the owner of Akronym, Sergio Chang, to be a partner of my company because I understood we need a world class provider to create our training platform. Akronym is a strategic business partner for companies looking to use technology as a key differentiator.",
      imageKey: "marilis"
    }
  };

  // Array de testimonios en orden para el carrusel
  const testimonialOrder = ['becky', 'david', 'michael', 'fatou', 'marilis'];
  let currentTestimonialIndex = 0;

  // Función para cambiar testimonio
  function changeTestimonial(testimonialKey) {
    const testimonial = testimonials[testimonialKey];
    if (!testimonial) return;

    const imageElement = document.getElementById('testimonial-image');
    const positionElement = document.getElementById('testimonial-position');
    const textElement = document.getElementById('testimonial-text');

    if (imageElement) {
      imageElement.src = testimonialImages[testimonial.imageKey];
      imageElement.alt = testimonial.name;
    }

    if (positionElement) {
      positionElement.textContent = testimonial.position;
    }

    if (textElement) {
      textElement.textContent = testimonial.text;
    }
  }

  // Función para navegar al testimonio anterior
  function previousTestimonial() {
    currentTestimonialIndex = (currentTestimonialIndex - 1 + testimonialOrder.length) % testimonialOrder.length;
    const testimonialKey = testimonialOrder[currentTestimonialIndex];
    changeTestimonial(testimonialKey);
  }

  // Función para navegar al testimonio siguiente
  function nextTestimonial() {
    currentTestimonialIndex = (currentTestimonialIndex + 1) % testimonialOrder.length;
    const testimonialKey = testimonialOrder[currentTestimonialIndex];
    changeTestimonial(testimonialKey);
  }

  // Animación de texto cambiante
  function initTextAnimation() {
    const changingText = document.getElementById('changing-text');
    if (!changingText) return;

    const texts = lang === 'en' 
      ? ['CLEARER', 'FASTER', 'MORE ALIGNED']
      : ['MÁS CLARO', 'MÁS RÁPIDO', 'MÁS ALINEADO'];
    let currentIndex = 0;

    function changeText() {
      if (!changingText) return;
      
      // El texto actual se mueve hacia arriba y desaparece
      changingText.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out';
      changingText.style.transform = 'translateY(-100%)';
      changingText.style.opacity = '0';
      
      setTimeout(() => {
        if (!changingText) return;
        
        // Cambiar al siguiente texto sin transición para que no se vea
        changingText.style.transition = 'none';
        currentIndex = (currentIndex + 1) % texts.length;
        changingText.textContent = texts[currentIndex];
        
        // Posicionar el nuevo texto abajo sin que se vea
        changingText.style.transform = 'translateY(100%)';
        changingText.style.opacity = '0';
        
        // Forzar un reflow para que el navegador aplique los cambios
        changingText.offsetHeight;
        
        // Ahora activar la transición y mover el texto hacia arriba
        setTimeout(() => {
          if (!changingText) return;
          
          changingText.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out';
          changingText.style.transform = 'translateY(0)';
          changingText.style.opacity = '1';
        }, 10);
      }, 500);
    }

    // Cambiar texto cada 3 segundos
    setInterval(changeText, 1500);
  }

  // Agregar event listeners para hover y click
  document.addEventListener('DOMContentLoaded', function() {
    const testimonialNames = document.querySelectorAll('.testimonial-name');
    
    testimonialNames.forEach(nameElement => {
      const testimonialKey = nameElement.getAttribute('data-testimonial');
      
      if (testimonialKey) {
        // Evento hover para cambiar testimonio
        nameElement.addEventListener('mouseenter', function() {
          changeTestimonial(testimonialKey);
        });
        
        // Evento click para scroll suave al contenido
        nameElement.addEventListener('click', function(e) {
          e.preventDefault();
          const testimonialContent = document.getElementById('testimonial-content');
          if (testimonialContent) {
            testimonialContent.scrollIntoView({
              behavior: 'smooth',
              block: 'center'
            });
          }
        });
      }
    });

    // Inicializar animación de texto
    initTextAnimation();
    
    // Funcionalidad del menú móvil
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMenuBtn = document.getElementById('close-menu-btn');
    
    if (mobileMenuBtn && mobileMenu && closeMenuBtn) {
      // Abrir menú
      mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.remove('translate-x-full');
        mobileMenu.classList.add('translate-x-0');
      });
      
      // Cerrar menú
      closeMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.remove('translate-x-0');
        mobileMenu.classList.add('translate-x-full');
      });
      
      // Cerrar menú al hacer clic en un enlace
      const mobileMenuLinks = mobileMenu.querySelectorAll('a');
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', function() {
          mobileMenu.classList.remove('translate-x-0');
          mobileMenu.classList.add('translate-x-full');
        });
      });
    }

    // Funcionalidad de flechas de testimonios para móvil
    const prevTestimonialBtn = document.getElementById('prev-testimonial');
    const nextTestimonialBtn = document.getElementById('next-testimonial');
    
    if (prevTestimonialBtn && nextTestimonialBtn) {
      prevTestimonialBtn.addEventListener('click', function() {
        previousTestimonial();
      });
      
      nextTestimonialBtn.addEventListener('click', function() {
        nextTestimonial();
      });
    }
  });
</script>